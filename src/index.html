<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="color-scheme" content="dark" />
    <title>Windows Burpe Suite</title>

    <link rel="icon" href="./assets/favicon.png" />
    <link rel="stylesheet" href="./css/styles.css" />
  </head>

  <body>
    <header class="app-header">
      <div class="brand">
        <img
          class="brand__mark"
          src="./assets/brand-theme.png"
          alt=""
          onerror="this.style.display='none'"
        />
        <div class="brand__text">
          <div class="brand__title">wιɴdowѕ вυrpε ѕυιтε</div>
          <div class="brand__subtitle">
            Simple is beautiful — Dashboard / Target / Proxy / Intruder
          </div>
        </div>
      </div>

      <nav class="tabs" aria-label="Workspace">
        <button class="tab" data-main-tab="dashboard" type="button">Dashboard</button>
        <button class="tab" data-main-tab="target" type="button">Target</button>
        <button class="tab is-active" data-main-tab="proxy" type="button">Proxy</button>
        <button class="tab" data-main-tab="intruder" type="button">Intruder</button>
      </nav>
    </header>

    <main class="app-main">
      <!-- ========================= -->
      <!-- Dashboard -->
      <!-- ========================= -->
      <section class="panel" id="panel-dashboard" data-main-panel="dashboard" aria-label="Dashboard">
        <div class="card">
          <div class="card__title">Project Dashboard</div>
          <div class="card__hint">Overview of the current project + phase progress.</div>
        </div>

        <div class="grid">
          <div class="card">
            <div class="card__title">Phase status</div>
            <div class="list">
              <div class="list-item">
                <div class="list-item__text">
                  <div class="list-item__title">Current</div>
                  <div class="list-item__sub">Phase 0 — UI scaffold</div>
                </div>
              </div>
              <div class="list-item">
                <div class="list-item__text">
                  <div class="list-item__title">Next</div>
                  <div class="list-item__sub">Phase 1 — request builder + history + tooling</div>
                </div>
              </div>
              <div class="list-item">
                <div class="list-item__text">
                  <div class="list-item__title">Later</div>
                  <div class="list-item__sub">Phase 2 — HTTP proxy + CONNECT tunnel</div>
                </div>
              </div>
              <div class="list-item">
                <div class="list-item__text">
                  <div class="list-item__title">Later</div>
                  <div class="list-item__sub">Phase 3 — TLS CA + MITM (scoped)</div>
                </div>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card__title">Quick actions</div>
            <div class="list">
              <div class="list-item">
                <div class="list-item__text">
                  <div class="list-item__title">Send request</div>
                  <div class="list-item__sub">Proxy → Intercept → Send</div>
                </div>
              </div>
              <div class="list-item">
                <div class="list-item__text">
                  <div class="list-item__title">Save to history</div>
                  <div class="list-item__sub">Proxy → Intercept → Save</div>
                </div>
              </div>
              <div class="list-item">
                <div class="list-item__text">
                  <div class="list-item__title">Replay</div>
                  <div class="list-item__sub">Proxy → HTTP history → Replay</div>
                </div>
              </div>
              <div class="list-item">
                <div class="list-item__text">
                  <div class="list-item__title">Normalize output</div>
                  <div class="list-item__sub">Proxy → Proxy settings</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- ========================= -->
      <!-- Target -->
      <!-- ========================= -->
      <section class="panel" id="panel-target" data-main-panel="target" aria-label="Target">
        <nav class="subtabs" aria-label="Target subtabs">
          <button class="subtab is-active" data-main="target" data-subtab="sitemap" type="button">Site map</button>
          <button class="subtab" data-main="target" data-subtab="scope" type="button">Scope</button>
          <button class="subtab" data-main="target" data-subtab="issues" type="button">Issue definitions</button>
        </nav>

        <section class="panel is-active subpanel" id="target-sitemap" data-main="target" data-subpanel="sitemap" aria-label="Target: Site map">
          <div class="card">
            <div class="card__title">Site map</div>
            <div class="card__hint">Phase 1: build a host/path tree from captured traffic (Proxy history).</div>
          </div>
        </section>

        <section class="panel subpanel" id="target-scope" data-main="target" data-subpanel="scope" aria-label="Target: Scope">
          <div class="card">
            <div class="card__title">Scope</div>
            <div class="card__hint">Phase 1: define in-scope hosts/paths; Phase 2+: enforce scope filters globally.</div>
          </div>
        </section>

        <section class="panel subpanel" id="target-issues" data-main="target" data-subpanel="issues" aria-label="Target: Issue definitions">
          <div class="card">
            <div class="card__title">Issue definitions</div>
            <div class="card__hint">Phase 1: templates; later: auto-flag patterns and annotate history.</div>
          </div>
        </section>
      </section>

      <!-- ========================= -->
      <!-- Proxy -->
      <!-- ========================= -->
      <section class="panel is-active" id="panel-proxy" data-main-panel="proxy" aria-label="Proxy">
        <nav class="subtabs" aria-label="Proxy subtabs">
          <button class="subtab is-active" data-main="proxy" data-subtab="intercept" type="button">Intercept</button>
          <button class="subtab" data-main="proxy" data-subtab="http" type="button">HTTP history</button>
          <button class="subtab" data-main="proxy" data-subtab="ws" type="button">WebSockets history</button>
          <button class="subtab" data-main="proxy" data-subtab="settings" type="button">Proxy settings</button>
        </nav>

        <!-- Proxy: Intercept -->
        <section class="panel is-active subpanel" id="panel-interceptor" data-main="proxy" data-subpanel="intercept" aria-label="Proxy: Intercept">
          <div class="grid">
            <section class="card">
              <div class="card__title">Request</div>

              <div class="row">
                <label class="label">Method</label>
                <select id="req-method">
                  <option>GET</option>
                  <option>POST</option>
                  <option>PUT</option>
                  <option>PATCH</option>
                  <option>DELETE</option>
                </select>
              </div>

              <div class="row">
                <label class="label">URL</label>
                <input id="req-url" placeholder="https://example.com/api" />
              </div>

              <div class="row">
                <label class="label">Headers</label>
                <div id="hdr-rows" class="hdr-rows"></div>

                <div class="hdr-actions">
                  <button id="hdr-add" class="btn secondary" type="button">+ Add header</button>
                  <button id="hdr-import" class="btn secondary" type="button">Import raw</button>
                  <button id="hdr-export" class="btn secondary" type="button">Export raw</button>
                  <button id="hdr-clear" class="btn danger" type="button">Clear headers</button>
                </div>

                <div id="hdr-io" class="hdr-io is-hidden">
                  <textarea id="hdr-raw" class="textarea" rows="6" placeholder="Header: value&#10;Another: value"></textarea>
                  <div class="hdr-actions">
                    <button id="hdr-apply" class="btn" type="button">Apply</button>
                    <button id="hdr-copy" class="btn secondary" type="button">Copy</button>
                  </div>
                </div>

                <div class="card__hint">
                  Tip: Headers are applied to <b>Send</b> and saved to history via <b>Save</b>.
                </div>
              </div>

              <div class="row">
                <label class="label">Body</label>
                <textarea id="req-body" class="textarea" rows="12" placeholder='{"hello":"world"}'></textarea>
              </div>

              <div class="row">
                <button id="btn-send" class="btn" type="button">Send</button>
                <button id="btn-save" class="btn secondary" type="button">Save</button>
              </div>

              <!-- BUG 1 actions: panel-safe reset/clear -->
              <div class="row row-actions">
                <button id="btn-reset-request" class="btn secondary" type="button">Reset request</button>
                <button id="btn-clear-response" class="btn secondary" type="button">Clear response</button>
              </div>

              <div class="card__hint">
                Current send is <b>direct</b> (browser fetch). Backend proxy comes in Phase 1.
              </div>
            </section>

            <section class="card">
              <div class="card__title">Response</div>
              <div class="row">
                <div id="res-meta" class="meta">—</div>
              </div>
              <div class="row">
                <label class="label">Headers</label>
                <pre id="res-headers" class="code">—</pre>
              </div>
              <div class="row">
                <label class="label">Body</label>
                <pre id="res-body" class="code">—</pre>
              </div>
            </section>
          </div>
        </section>

        <!-- Proxy: HTTP history -->
        <section class="panel subpanel" id="panel-repeater" data-main="proxy" data-subpanel="http" aria-label="Proxy: HTTP history">
          <div class="grid">
            <section class="card">
              <div class="card__title">HTTP history</div>
              <div class="row">
                <button id="btn-refresh" class="btn secondary" type="button">Refresh</button>
                <button id="btn-clear" class="btn danger" type="button">Clear All</button>
              </div>
              <div id="saved-list" class="list"></div>
            </section>

            <section class="card">
              <div class="card__title">Replay</div>
              <div class="row">
                <div id="replay-title" class="meta">Select a saved request</div>
              </div>

              <div class="segmented">
                <button id="view-raw" class="seg btn secondary" type="button">Raw</button>
                <button id="view-diff" class="seg btn secondary" type="button">Diff</button>
              </div>

              <div class="row">
                <button id="btn-replay" class="btn" type="button">Replay</button>
              </div>

              <div id="replay-raw-wrap">
                <pre id="replay-out" class="code">—</pre>
              </div>

              <div id="replay-diff-wrap" class="is-hidden">
                <div id="replay-diff" class="code diff">—</div>
              </div>
            </section>
          </div>
        </section>

        <!-- Proxy: WebSockets history -->
        <section class="panel subpanel" id="panel-ws" data-main="proxy" data-subpanel="ws" aria-label="Proxy: WebSockets history">
          <div class="card">
            <div class="card__title">WebSockets history</div>
            <div class="card__hint">Later phase: capture WS upgrades + frames via the proxy layer.</div>
          </div>
        </section>

        <!-- Proxy: Settings -->
        <section class="panel subpanel" id="panel-extender" data-main="proxy" data-subpanel="settings" aria-label="Proxy: Settings">
          <div class="card">
            <div class="card__title">Proxy settings</div>

            <div class="row">
              <label class="check">
                <input type="checkbox" id="ext-pretty-json" />
                <span>Pretty-print JSON responses</span>
              </label>
            </div>

            <div class="row">
              <label class="check">
                <input type="checkbox" id="ext-trim-headers" checked />
                <span>Trim response headers display</span>
              </label>
            </div>

            <div class="row">
              <label class="check">
                <input type="checkbox" id="ext-lowercase-keys" />
                <span>Lowercase header keys on send</span>
              </label>
            </div>

            <div class="card__hint">
              These are client-side transforms for now. Backend proxy settings land later.
            </div>
          </div>
        </section>
      </section>

      <!-- ========================= -->
      <!-- Intruder -->
      <!-- ========================= -->
      <section class="panel" id="panel-intruder" data-main-panel="intruder" aria-label="Intruder">
        <nav class="subtabs" aria-label="Intruder subtabs">
          <button class="subtab is-active" data-main="intruder" data-subtab="positions" type="button">Positions</button>
          <button class="subtab" data-main="intruder" data-subtab="payloads" type="button">Payloads</button>
          <button class="subtab" data-main="intruder" data-subtab="pool" type="button">Resource pool</button>
          <button class="subtab" data-main="intruder" data-subtab="settings" type="button">Settings</button>
        </nav>

        <section class="panel is-active subpanel" id="intruder-positions" data-main="intruder" data-subpanel="positions" aria-label="Intruder: Positions">
          <div class="card">
            <div class="card__title">Positions</div>
            <div class="card__hint">Phase 1: define insertion points in a request template.</div>
          </div>
        </section>

        <section class="panel subpanel" id="intruder-payloads" data-main="intruder" data-subpanel="payloads" aria-label="Intruder: Payloads">
          <div class="card">
            <div class="card__title">Payloads</div>
            <div class="card__hint">Phase 1: simple payload lists + sequential iteration.</div>
          </div>
        </section>

        <section class="panel subpanel" id="intruder-pool" data-main="intruder" data-subpanel="pool" aria-label="Intruder: Resource pool">
          <div class="card">
            <div class="card__title">Resource pool</div>
            <div class="card__hint">Later: concurrency limits, delays, retries, throttling.</div>
          </div>
        </section>

        <section class="panel subpanel" id="intruder-settings" data-main="intruder" data-subpanel="settings" aria-label="Intruder: Settings">
          <div class="card">
            <div class="card__title">Settings</div>
            <div class="card__hint">Good home for FoxyProxy notes + CA/TLS guidance docs. Implementation comes later.</div>
          </div>
        </section>
      </section>
    </main>

    <script type="module" src="./js/app.js"></script>
  </body>
</html>
